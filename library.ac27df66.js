!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},d=e.parcelRequired7c6;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in o){var d=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,d.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=d);var n=d("eBfQW"),a=d("bfaTO"),r=d("4s6iC"),c=d("twtVq"),i=d("QXG35"),s={watchedBtn:document.querySelector(".js-watched-btn"),queueBtn:document.querySelector(".js-queue-btn"),gallery:document.querySelector(".js-gallery"),backdrop:document.querySelector(".backdrop"),closeBtn:document.querySelector(".js-modal-close"),addToWatchedBtn:document.querySelector(".js-add-to-watched-btn"),addToQueueBtn:document.querySelector(".js-add-to-queue-btn")},u=[],l="watched",v=function(){s.backdrop.classList.add("is-hidden")},p=function(){var e=(0,a.getMoviesMarkup)(u);s.gallery.innerHTML=e},E=function(e){var t,o=u.find((function(t){return t.id===Number(e)})),d=o.poster_path,n=o.title,a=o.vote_average,i=o.vote_count,v=o.popularity,p=o.original_title,E=o.genre_ids,f=o.overview,m=o.id;s.backdrop.querySelector(".js-img").src=d?"".concat(r.BASE_IMG).concat(d):"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",s.backdrop.querySelector(".js-title").textContent=n,s.backdrop.querySelector(".js-rating").textContent=a.toFixed(2),s.backdrop.querySelector(".js-votes").textContent=i,s.backdrop.querySelector(".js-popularity").textContent=v.toFixed(2),s.backdrop.querySelector(".js-original").textContent=p,s.backdrop.querySelector(".js-genre").textContent=0!==E.length?E.map((function(e){return c.default.find((function(t){return t.id===e})).name})).join(", "):"No information",s.backdrop.querySelector(".js-text").textContent=f,s.backdrop.querySelector(".js-modal").dataset.id=m,"watched"===(t=l)&&(s.addToQueueBtn.textContent="add to queue",s.addToWatchedBtn.textContent="remove"),"queue"===t&&(s.addToQueueBtn.textContent="remove",s.addToWatchedBtn.textContent="add to watched")},f=function(e){s.watchedBtn.classList.add("active"),s.queueBtn.classList.remove("active"),l="watched",u=(0,n.readMovies)(r.WATCHED_KEY),p()};s.watchedBtn.addEventListener("click",f),s.queueBtn.addEventListener("click",(function(e){s.queueBtn.classList.add("active"),s.watchedBtn.classList.remove("active"),l="queue",u=(0,n.readMovies)(r.QUEUE_KEY),p()})),s.gallery.addEventListener("click",(function(e){var t=e.target.closest("li").dataset.id;E(t),s.backdrop.classList.remove("is-hidden")})),s.closeBtn.addEventListener("click",v),s.addToWatchedBtn.addEventListener("click",(function(e){var t=e.currentTarget.closest(".js-modal").dataset.id,o=u.find((function(e){return e.id===Number(t)}));"queue"===l&&((0,n.updateMovies)(r.WATCHED_KEY,o),(0,n.deleteMovie)(r.QUEUE_KEY,t),u=(0,n.readMovies)(r.QUEUE_KEY),(0,i.showMessage)({type:"success",message:"'".concat(o.title,"' is moved to 'Watched'")})),"watched"===l&&((0,n.deleteMovie)(r.WATCHED_KEY,t),u=(0,n.readMovies)(r.WATCHED_KEY),(0,i.showMessage)({type:"success",message:"'".concat(o.title,"' is deleted")})),v(),p()})),s.addToQueueBtn.addEventListener("click",(function(e){var t=e.currentTarget.closest(".js-modal").dataset.id,o=u.find((function(e){return e.id===Number(t)}));"watched"===l&&((0,n.updateMovies)(r.QUEUE_KEY,o),(0,n.deleteMovie)(r.WATCHED_KEY,t),u=(0,n.readMovies)(r.WATCHED_KEY),(0,i.showMessage)({type:"success",message:"'".concat(o.title,"' is moved to 'Queue'")})),"queue"===l&&((0,n.deleteMovie)(r.QUEUE_KEY,t),u=(0,n.readMovies)(r.QUEUE_KEY),(0,i.showMessage)({type:"success",message:"'".concat(o.title,"' is deleted")})),v(),p()})),f()}();
//# sourceMappingURL=library.ac27df66.js.map
