var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},d={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in d){var o=d[e];delete d[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){d[e]=t},e.parcelRequired7c6=o);var a=o("3nphs"),s=o("7sOwA"),r=o("8G1wF"),n=o("ezyJp"),c=o("2PXHr");const i={watchedBtn:document.querySelector(".js-watched-btn"),queueBtn:document.querySelector(".js-queue-btn"),gallery:document.querySelector(".js-gallery"),backdrop:document.querySelector(".backdrop"),closeBtn:document.querySelector(".js-modal-close"),addToWatchedBtn:document.querySelector(".js-add-to-watched-btn"),addToQueueBtn:document.querySelector(".js-add-to-queue-btn")};let l=[],u="watched";const p=()=>{i.backdrop.classList.add("is-hidden")},v=()=>{const e=(0,s.getMoviesMarkup)(l);i.gallery.innerHTML=e},E=e=>{const{poster_path:t,title:d,vote_average:o,vote_count:a,popularity:s,original_title:c,genre_ids:p,overview:v,id:E}=l.find((({id:t})=>t===Number(e)));var m;i.backdrop.querySelector(".js-img").src=t?`${r.BASE_IMG}${t}`:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",i.backdrop.querySelector(".js-title").textContent=d,i.backdrop.querySelector(".js-rating").textContent=o.toFixed(2),i.backdrop.querySelector(".js-votes").textContent=a,i.backdrop.querySelector(".js-popularity").textContent=s.toFixed(2),i.backdrop.querySelector(".js-original").textContent=c,i.backdrop.querySelector(".js-genre").textContent=0!==p.length?p.map((e=>n.default.find((({id:t})=>t===e)).name)).join(", "):"No information",i.backdrop.querySelector(".js-text").textContent=v,i.backdrop.querySelector(".js-modal").dataset.id=E,"watched"===(m=u)&&(i.addToQueueBtn.textContent="add to queue",i.addToWatchedBtn.textContent="remove"),"queue"===m&&(i.addToQueueBtn.textContent="remove",i.addToWatchedBtn.textContent="add to watched")},m=e=>{i.watchedBtn.classList.add("active"),i.queueBtn.classList.remove("active"),u="watched",l=(0,a.readMovies)(r.WATCHED_KEY),v()};i.watchedBtn.addEventListener("click",m),i.queueBtn.addEventListener("click",(e=>{i.queueBtn.classList.add("active"),i.watchedBtn.classList.remove("active"),u="queue",l=(0,a.readMovies)(r.QUEUE_KEY),v()})),i.gallery.addEventListener("click",(e=>{const t=e.target.closest("li").dataset.id;E(t),i.backdrop.classList.remove("is-hidden")})),i.closeBtn.addEventListener("click",p),i.addToWatchedBtn.addEventListener("click",(e=>{const t=e.currentTarget.closest(".js-modal").dataset.id,d=l.find((({id:e})=>e===Number(t)));"queue"===u&&((0,a.updateMovies)(r.WATCHED_KEY,d),(0,a.deleteMovie)(r.QUEUE_KEY,t),l=(0,a.readMovies)(r.QUEUE_KEY),(0,c.showMessage)({type:"success",message:`'${d.title}' is moved to 'Watched'`})),"watched"===u&&((0,a.deleteMovie)(r.WATCHED_KEY,t),l=(0,a.readMovies)(r.WATCHED_KEY),(0,c.showMessage)({type:"success",message:`'${d.title}' is deleted`})),p(),v()})),i.addToQueueBtn.addEventListener("click",(e=>{const t=e.currentTarget.closest(".js-modal").dataset.id,d=l.find((({id:e})=>e===Number(t)));"watched"===u&&((0,a.updateMovies)(r.QUEUE_KEY,d),(0,a.deleteMovie)(r.WATCHED_KEY,t),l=(0,a.readMovies)(r.WATCHED_KEY),(0,c.showMessage)({type:"success",message:`'${d.title}' is moved to 'Queue'`})),"queue"===u&&((0,a.deleteMovie)(r.QUEUE_KEY,t),l=(0,a.readMovies)(r.QUEUE_KEY),(0,c.showMessage)({type:"success",message:`'${d.title}' is deleted`})),p(),v()})),m();
//# sourceMappingURL=library.2a59419d.js.map
