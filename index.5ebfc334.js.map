{"mappings":"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","sources":["src/index.js"],"sourcesContent":["import { getMoviesMarkup } from './js/templates';\nimport genres from './js/genres';\nimport { readMovies, createMovies } from './js/crud';\nimport { Loader } from './js/loader';\nimport { showMessage } from './js/showMessage';\n\nimport {\n  API_KEY,\n  BASE_URL,\n  BASE_IMG,\n  WATCHED_KEY,\n  QUEUE_KEY,\n} from './js/constants';\n\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n} from 'firebase/auth';\n\nimport { getDatabase } from 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyC4TFBFQRWUVazSJUXo0Z29XqKQGw3CwAA',\n  authDomain: 'filmoteka-29d04.firebaseapp.com',\n  projectId: 'filmoteka-29d04',\n  storageBucket: 'filmoteka-29d04.appspot.com',\n  messagingSenderId: '839332022784',\n  appId: '1:839332022784:web:20cca0e4887dab354326e5',\n  measurementId: 'G-8B53C0FEKF',\n  databaseURL:\n    'https://filmoteka-29d04-default-rtdb.europe-west1.firebasedatabase.app',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst database = getDatabase(app);\n\nconst refs = {\n  form: document.querySelector('form.header__form'),\n  gallery: document.querySelector('.movies-gallery'),\n  loadMoreBtn: document.querySelector('.js-load-more-btn'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.js-modal'),\n  modalCloseBtn: document.querySelector('button.js-modal-close'),\n  watchedBtn: document.querySelector('.js-watched-btn'),\n  queueBtn: document.querySelector('.js-queue-btn'),\n  loginBtn: document.querySelector('.js-login-btn'),\n  logoutBtn: document.querySelector('.js-logout-btn'),\n  loginModal: document.querySelector('.js-login-modal'),\n  loginModalCloseBtn: document.querySelector('.js-login-close'),\n  loginForm: document.querySelector('.js-login-form'),\n  libraryLink: document.querySelector('.js-library-item'),\n};\n\nlet items = [];\nlet page = 1;\nlet query = '';\nlet currentResult = 0;\nlet totalResults = 0;\nlet searchByQuery = false;\nlet isAuthorized = false;\nconst loader = new Loader();\n\nconst showButton = () => {\n  refs.loadMoreBtn.classList.remove('hidden');\n};\nconst hideButton = () => {\n  refs.loadMoreBtn.classList.add('hidden');\n};\n\nconst onBackdropClick = e => {\n  if (e.target.classList.contains('backdrop')) {\n    hideModal();\n    hideLogin();\n  }\n};\n\nconst onKeyPress = e => {\n  if (e.code === 'Escape') {\n    hideModal();\n    hideLogin();\n  }\n};\n\nconst showModal = () => {\n  refs.modal.classList.remove('is-hidden');\n  refs.backdrop.classList.remove('is-hidden');\n\n  refs.backdrop.addEventListener('click', onBackdropClick);\n  document.body.addEventListener('keydown', onKeyPress);\n};\nconst hideModal = () => {\n  refs.backdrop.classList.add('is-hidden');\n  setTimeout(() => {\n    refs.modal.classList.add('is-hidden');\n  }, 200);\n  refs.backdrop.removeEventListener('click', onBackdropClick);\n  document.body.removeEventListener('keydown', onKeyPress);\n};\n\nconst showLogin = e => {\n  refs.loginModal.classList.remove('is-hidden');\n  refs.backdrop.classList.remove('is-hidden');\n  refs.backdrop.addEventListener('click', onBackdropClick);\n  document.body.addEventListener('keydown', onKeyPress);\n};\n\nconst hideLogin = e => {\n  refs.backdrop.classList.add('is-hidden');\n  setTimeout(() => {\n    refs.loginModal.classList.add('is-hidden');\n  }, 200);\n  refs.backdrop.removeEventListener('click', onBackdropClick);\n  document.body.removeEventListener('keydown', onKeyPress);\n};\n\nconst reset = () => {\n  page = 1;\n  query = '';\n  currentResult = 0;\n  totalResults = 0;\n  items = [];\n  showButton();\n};\n\nconst loadTrendingMovies = async () => {\n  loader.show();\n  const res = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  const data = await res.json();\n  currentResult += data.results.length;\n  totalResults = data.total_results;\n  if (currentResult === totalResults) {\n    hideButton();\n  }\n  items = [...items, ...data.results];\n  loader.hide();\n};\n\nconst loadMoviesByQuery = async () => {\n  loader.show();\n  const res = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n  const data = await res.json();\n  currentResult += data.results.length;\n  totalResults = data.total_results;\n  if (currentResult === totalResults) {\n    hideButton();\n  }\n  items = [...items, ...data.results];\n  loader.hide();\n};\n\nconst renderItems = () => {\n  const markup = getMoviesMarkup(items);\n  refs.gallery.innerHTML = markup;\n};\n\nconst renderModal = idMovie => {\n  const {\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genre_ids,\n    overview,\n    id,\n  } = items.find(({ id }) => id === Number(idMovie));\n  refs.backdrop.querySelector('.js-img').src = poster_path\n    ? `${BASE_IMG}${poster_path}`\n    : 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';\n  refs.backdrop.querySelector('.js-title').textContent = title;\n  refs.backdrop.querySelector('.js-rating').textContent =\n    vote_average.toFixed(2);\n  refs.backdrop.querySelector('.js-votes').textContent = vote_count;\n  refs.backdrop.querySelector('.js-popularity').textContent =\n    popularity.toFixed(2);\n  refs.backdrop.querySelector('.js-original').textContent = original_title;\n  refs.backdrop.querySelector('.js-genre').textContent =\n    genre_ids.length !== 0\n      ? genre_ids\n          .map(idGenre => genres.find(({ id }) => id === idGenre).name)\n          .join(', ')\n      : 'No information';\n  refs.backdrop.querySelector('.js-text').textContent = overview;\n  refs.backdrop.querySelector('.js-modal').dataset.id = id;\n  if (isAuthorized) {\n    refs.queueBtn.classList.remove('is-hidden');\n    refs.watchedBtn.classList.remove('is-hidden');\n  } else {\n    refs.queueBtn.classList.add('is-hidden');\n    refs.watchedBtn.classList.add('is-hidden');\n  }\n};\n\nconst onFormSubmit = async e => {\n  e.preventDefault();\n  reset();\n  searchByQuery = true;\n  query = e.currentTarget.elements.query.value;\n  if (query) {\n    await onLoadMore();\n  }\n};\n\nconst onLoadMore = async () => {\n  if (searchByQuery) {\n    await loadMoviesByQuery();\n\n    page += 1;\n  } else {\n    page += 1;\n    await loadTrendingMovies();\n  }\n  renderItems();\n};\n\nconst onGalleryClick = e => {\n  const element = e.target;\n  const id = element.closest('li').dataset.id;\n  renderModal(id);\n  showModal();\n};\n\nconst onWatchedBtnClick = async e => {\n  const movieId = e.currentTarget.closest('.js-modal').dataset.id;\n  const movieData = items.find(({ id }) => id === Number(movieId));\n\n  loader.show();\n\n  const watchedMovies = await readMovies({\n    database,\n    key: WATCHED_KEY,\n    uid: auth.currentUser.uid,\n  });\n\n  const queueMovies = await readMovies({\n    database,\n    key: QUEUE_KEY,\n    uid: auth.currentUser.uid,\n  });\n\n  if (\n    watchedMovies?.find(({ id }) => id === Number(movieId)) ||\n    queueMovies?.find(({ id }) => id === Number(movieId))\n  ) {\n    showMessage({\n      type: 'failure',\n      message: `'${movieData.title}' has already been added to Library`,\n    });\n    loader.hide();\n    hideModal();\n    return;\n  }\n\n  await createMovies({\n    database,\n    key: WATCHED_KEY,\n    uid: auth.currentUser.uid,\n    data: [movieData],\n  });\n  loader.hide();\n  showMessage({\n    type: 'success',\n    message: `'${movieData.title}' is added to 'Watched'`,\n  });\n  hideModal();\n};\n\nconst onQueueBtnClick = async e => {\n  const movieId = e.currentTarget.closest('.js-modal').dataset.id;\n  const movieData = items.find(({ id }) => id === Number(movieId));\n\n  loader.show();\n\n  const watchedMovies = await readMovies({\n    database,\n    key: WATCHED_KEY,\n    uid: auth.currentUser.uid,\n  });\n\n  const queueMovies = await readMovies({\n    database,\n    key: QUEUE_KEY,\n    uid: auth.currentUser.uid,\n  });\n\n  if (\n    watchedMovies?.find(({ id }) => id === Number(movieId)) ||\n    queueMovies?.find(({ id }) => id === Number(movieId))\n  ) {\n    showMessage({\n      type: 'failure',\n      message: `'${movieData.title}' has already been added to Library`,\n    });\n    loader.hide();\n    hideModal();\n    return;\n  }\n\n  await createMovies({\n    database,\n    key: QUEUE_KEY,\n    uid: auth.currentUser.uid,\n    data: [movieData],\n  });\n  loader.hide();\n  showMessage({\n    type: 'success',\n    message: `'${movieData.title}' is added to 'Queue'`,\n  });\n  hideModal();\n};\n\nconst onLoginSubmit = async e => {\n  e.preventDefault();\n  const { email, password, method } = e.currentTarget.elements;\n  console.log(method.value);\n  if (method.value === 'sign-up') {\n    await createUserWithEmailAndPassword(\n      auth,\n      email.value,\n      password.value\n    ).catch(error => {\n      console.log(error.code);\n      console.log(error.message);\n    });\n  } else if (method.value === 'sign-in') {\n    await signInWithEmailAndPassword(auth, email.value, password.value).catch(\n      error => {\n        console.log(error.code);\n        console.log(error.message);\n      }\n    );\n  }\n  hideLogin();\n  e.target.reset();\n};\n\nconst onLogOut = e => {\n  auth.signOut();\n};\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    isAuthorized = true;\n    refs.loginBtn.classList.add('is-hidden');\n    refs.logoutBtn.classList.remove('is-hidden');\n  } else {\n    isAuthorized = false;\n    refs.logoutBtn.classList.add('is-hidden');\n    refs.loginBtn.classList.remove('is-hidden');\n  }\n});\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\nrefs.gallery.addEventListener('click', onGalleryClick);\nrefs.modalCloseBtn.addEventListener('click', hideModal);\nrefs.watchedBtn.addEventListener('click', onWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onQueueBtnClick);\nrefs.loginBtn.addEventListener('click', showLogin);\nrefs.logoutBtn.addEventListener('click', onLogOut);\nrefs.loginModalCloseBtn.addEventListener('click', hideLogin);\nrefs.loginForm.addEventListener('submit', onLoginSubmit);\n\nloadTrendingMovies().then(renderItems);\n"],"names":["$7sOwA","parcelRequire","$1f0dc3b9307be026$var$app","$25RCP","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","$1f0dc3b9307be026$var$auth","$amyG6","getAuth","$1f0dc3b9307be026$var$database","$fQ3Fn","getDatabase","$1f0dc3b9307be026$var$refs","form","document","querySelector","gallery","loadMoreBtn","backdrop","modal","modalCloseBtn","watchedBtn","queueBtn","loginBtn","logoutBtn","loginModal","loginModalCloseBtn","loginForm","libraryLink","$1f0dc3b9307be026$var$items","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$query","$1f0dc3b9307be026$var$currentResult","$1f0dc3b9307be026$var$totalResults","$1f0dc3b9307be026$var$searchByQuery","$1f0dc3b9307be026$var$isAuthorized","$1f0dc3b9307be026$var$loader","$gjiCh","Loader","$1f0dc3b9307be026$var$hideButton","classList","add","$1f0dc3b9307be026$var$onBackdropClick","e","target","contains","$1f0dc3b9307be026$var$hideModal","$1f0dc3b9307be026$var$hideLogin","$1f0dc3b9307be026$var$onKeyPress","code","setTimeout","removeEventListener","body","$1f0dc3b9307be026$var$reset","remove","$1f0dc3b9307be026$var$loadTrendingMovies","async","show","res","fetch","$8G1wF","BASE_URL","API_KEY","data","json","results","length","total_results","hide","$1f0dc3b9307be026$var$renderItems","markup","getMoviesMarkup","innerHTML","$1f0dc3b9307be026$var$onLoadMore","$1f0dc3b9307be026$var$loadMoviesByQuery","onAuthStateChanged","user","addEventListener","preventDefault","currentTarget","elements","query","value","idMovie","poster_path","title","vote_average","vote_count","popularity","original_title","genre_ids","overview","id","id1","find","Number","src","BASE_IMG","textContent","toFixed","map","idGenre","$ezyJp","default","name","join","dataset","$1f0dc3b9307be026$var$renderModal","closest","movieId","movieData","watchedMovies","$3nphs","readMovies","key","WATCHED_KEY","uid","currentUser","queueMovies","QUEUE_KEY","$2PXHr","showMessage","type","message","createMovies","signOut","email","password","method","console","log","createUserWithEmailAndPassword","catch","error","signInWithEmailAndPassword","reset","then"],"version":3,"file":"index.5ebfc334.js.map"}